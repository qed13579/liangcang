(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-10c043a9"],{3346:function(e,a,t){"use strict";t.r(a);var r=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"app-wrapper user-add-page-wrapper"},[t("s-title",{attrs:{title:"add"==e.title?"新增摄像头":"编辑摄像头"}}),e._v(" "),t("div",{},[t("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"120px"}},[t("el-form-item",{staticClass:"form-item",attrs:{label:"廒间名称",prop:"granaryId"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.form.granaryId,callback:function(a){e.$set(e.form,"granaryId",a)},expression:"form.granaryId"}},e._l(e.grainNamelist,(function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),e._v(" "),t("el-form-item",{staticClass:"form-item",attrs:{label:"摄像头名称",prop:"cameraName"}},[t("el-input",{attrs:{placeholder:"摄像头名称"},model:{value:e.form.cameraName,callback:function(a){e.$set(e.form,"cameraName",a)},expression:"form.cameraName"}})],1),e._v(" "),t("el-form-item",{staticClass:"form-item",attrs:{label:"摄像头IP",prop:"cameraIp"}},[t("el-input",{attrs:{placeholder:"摄像头IP"},model:{value:e.form.cameraIp,callback:function(a){e.$set(e.form,"cameraIp",a)},expression:"form.cameraIp"}})],1),e._v(" "),t("el-form-item",{staticClass:"form-item",attrs:{label:"摄像头端口",prop:"cameraPort"}},[t("el-input",{attrs:{placeholder:"摄像头端口"},model:{value:e.form.cameraPort,callback:function(a){e.$set(e.form,"cameraPort",a)},expression:"form.cameraPort"}})],1),e._v(" "),t("el-form-item",{staticClass:"form-item",attrs:{label:"用户名称",prop:"cameraUser"}},[t("el-input",{attrs:{placeholder:"用户名称"},model:{value:e.form.cameraUser,callback:function(a){e.$set(e.form,"cameraUser",a)},expression:"form.cameraUser"}})],1),e._v(" "),t("el-form-item",{staticClass:"form-item",attrs:{label:"用户密码",prop:"cameraPwd"}},[t("el-input",{attrs:{placeholder:"用户密码"},model:{value:e.form.cameraPwd,callback:function(a){e.$set(e.form,"cameraPwd",a)},expression:"form.cameraPwd"}})],1),e._v(" "),t("el-form-item",{staticClass:"form-item",attrs:{label:"存储服务器IP",prop:"storageIp"}},[t("el-input",{attrs:{placeholder:"存储服务器IP"},model:{value:e.form.storageIp,callback:function(a){e.$set(e.form,"storageIp",a)},expression:"form.storageIp"}})],1),e._v(" "),t("el-form-item",{staticClass:"form-item",attrs:{label:"存储位置",prop:"storageLocation"}},[t("el-input",{attrs:{placeholder:"存储位置"},model:{value:e.form.storageLocation,callback:function(a){e.$set(e.form,"storageLocation",a)},expression:"form.storageLocation"}})],1),e._v(" "),t("el-form-item",{staticClass:"form-item",attrs:{label:"备注",prop:"remark"}},[t("el-input",{attrs:{placeholder:"备注"},model:{value:e.form.remark,callback:function(a){e.$set(e.form,"remark",a)},expression:"form.remark"}})],1)],1),e._v(" "),t("el-button",{staticClass:"common-add-btn",attrs:{type:"primary"},on:{click:function(a){return e.handleAdd()}}},[e._v("保存")])],1),e._v(" "),t("el-dialog",{attrs:{title:"用户部门",visible:e.dialogDeptVisible},on:{"update:visible":function(a){e.dialogDeptVisible=a}}},[t("el-tree",{ref:"deptTree",staticClass:"filter-tree",attrs:{data:e.treeDeptData,"default-checked-keys":e.checkedKeys,"check-strictly":"","node-key":"id","highlight-current":"",props:e.defaultProps,"default-expand-all":""},on:{"node-click":e.getNodeData}})],1)],1)},s=[],o=(t("a450"),t("3616")),i=t("b405"),l=(t("61f7"),{props:["parentToChild"],name:"grainAdd",components:{STitle:i["default"]},filters:{},data:function(){return{listLoading:!1,title:"add",statusOptions:["0","1"],role:[],grainNamelist:[],treeDeptData:[],checkedKeys:[],defaultProps:{children:"children",label:"name"},isDisabled:{0:!1,1:!0},dialogDeptVisible:!1,form:{cameraIp:"",cameraName:"",cameraPort:"",cameraPwd:"",cameraUser:"",createTime:"",granaryId:null,granaryName:"",id:0,remark:"",storageIp:"",storageLocation:"",userId:0,userName:""},rules:{cameraName:[{required:!0,message:"请输入摄像头名称",trigger:"blur"},{min:2,max:20,message:"长度在 2 到 20 个字符",trigger:"blur"}],cameraIp:[{required:!0,message:"请输入摄像头ip",trigger:"blur"},{min:2,max:20,message:"长度在 2 到 20 个字符",trigger:"blur"}],cameraPort:[{required:!0,message:"请输入摄像头端口",trigger:"blur"},{min:3,max:50,message:"长度在 3 到 50 个字符",trigger:"blur"}],cameraUser:[{required:!0,message:"请输入用户名称",trigger:"blur"}],cameraPwd:[{required:!0,message:"请输入用户密码",trigger:"blur"}],storageIp:[{required:!1,message:"请输入存储服务器IP",trigger:"blur"}],storageLocation:[{required:!0,message:"请输入存储位置",trigger:"blur"}],remark:[{max:50,message:"长度在50个字符内",trigger:"blur"}]}}},mounted:function(){var e=this;console.log(this.parentToChild);var a={isAsc:!1,limit:1e3,name:"",orderByField:"",page:0};o["q"](a).then((function(a){console.log("粮库列表",a),e.grainNamelist=a.data.records})),this.$route.meta.title="新增粮库",this.parentToChild&&(this.title="update",this.$route.meta.title="编辑粮库",this.handleUpdate(this.parentToChild))},methods:{handleAdd:function(){var e=this,a=this;this.$refs.form.validate((function(t){t&&(e.listLoading=!0,"add"==e.title?(console.log(e.form),o["b"](e.form).then((function(t){e.listLoading=!1,"1"==t.data.code?(e.$notify({message:"创建失败,"+t.data.msg,type:"error",duration:"2000"}),a.$emit("msg",!1)):"0"==t.data.code&&(e.$notify({message:"创建成功",type:"success",duration:"2000"}),e.resetTemp(),a.$emit("msg",!0))}))):(e.form.password=void 0,o["b"](e.form).then((function(t){e.listLoading=!1,"1"==t.data.code?(e.$notify({message:"修改失败,"+t.data.msg,type:"error",duration:"2000"}),a.$emit("msg",!1)):"0"==t.data.code&&(e.$notify({message:"修改成功",type:"success",duration:"2000"}),a.$emit("msg",!0))}))))}))},resetTemp:function(){this.form={cameraIp:"",cameraName:"",cameraPort:"",cameraPwd:"",cameraUser:"",createTime:"",granaryId:null,granaryName:"",id:0,remark:"",storageIp:"",storageLocation:"",userId:0,userName:""},this.role=[]},getNodeData:function(e){this.dialogDeptVisible=!1,this.form.deptId=e.id,this.form.deptName=e.name},handleUpdate:function(e){var a=this;o["d"](e).then((function(e){a.form=e.data}))}}}),m=l,n=(t("beac"),t("a2d1"),t("0b56")),c=Object(n["a"])(m,r,s,!1,null,"9bdc1d72",null);a["default"]=c.exports},"62a9":function(e,a,t){},"97d7":function(e,a,t){},a24f:function(e,a,t){"use strict";t("62a9")},a2d1:function(e,a,t){"use strict";t("ce98")},b405:function(e,a,t){"use strict";t.r(a);var r=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"app-component-wrapper title-component-wrapper"})},s=[],o={props:{title:{type:String,default:"title"}}},i=o,l=(t("a24f"),t("0b56")),m=Object(l["a"])(i,r,s,!1,null,"238b1a96",null);a["default"]=m.exports},beac:function(e,a,t){"use strict";t("97d7")},ce98:function(e,a,t){}}]);