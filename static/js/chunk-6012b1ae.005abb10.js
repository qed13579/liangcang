(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6012b1ae"],{"016c":function(e,t,a){"use strict";a("cf40")},4529:function(e,t,a){},"62a9":function(e,t,a){},7861:function(e,t,a){"use strict";a("4529")},a24f:function(e,t,a){"use strict";a("62a9")},b405:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-component-wrapper title-component-wrapper"})},l=[],i={props:{title:{type:String,default:"title"}}},n=i,s=(a("a24f"),a("0b56")),o=Object(s["a"])(n,r,l,!1,null,"238b1a96",null);t["default"]=o.exports},cf40:function(e,t,a){},ea7f:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-wrapper user-add-page-wrapper"},[a("s-title",{attrs:{title:"add"==e.title?"新增粮库":"编辑粮库"}}),e._v(" "),a("div",{},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"120px"}},[a("el-form-item",{staticClass:"form-item",attrs:{label:"粮库名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"粮库名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),a("el-form-item",{staticClass:"form-item",attrs:{label:"粮库地址",prop:"address"}},[a("el-input",{attrs:{placeholder:"粮库地址"},model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}})],1),e._v(" "),a("el-form-item",{staticClass:"form-item",attrs:{label:"粮库纬度",prop:"latitude"}},[a("el-input",{attrs:{type:"number",placeholder:"粮库纬度"},model:{value:e.form.latitude,callback:function(t){e.$set(e.form,"latitude",t)},expression:"form.latitude"}})],1),e._v(" "),a("el-form-item",{staticClass:"form-item",attrs:{label:"粮库经度",prop:"longitude"}},[a("el-input",{attrs:{type:"number",placeholder:"粮库经度"},model:{value:e.form.longitude,callback:function(t){e.$set(e.form,"longitude",t)},expression:"form.longitude"}})],1),e._v(" "),a("el-form-item",{staticClass:"form-item",attrs:{label:"粮库联系人",prop:"linkman"}},[a("el-input",{attrs:{placeholder:"粮库联系人"},model:{value:e.form.linkman,callback:function(t){e.$set(e.form,"linkman",t)},expression:"form.linkman"}})],1),e._v(" "),a("el-form-item",{staticClass:"form-item",attrs:{label:"粮库联系人电话",prop:"linkmanPhone"}},[a("el-input",{attrs:{placeholder:"粮库联系人电话"},model:{value:e.form.linkmanPhone,callback:function(t){e.$set(e.form,"linkmanPhone",t)},expression:"form.linkmanPhone"}})],1),e._v(" "),a("el-form-item",{staticClass:"form-item",attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{placeholder:"备注"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1),e._v(" "),a("el-button",{staticClass:"common-add-btn",attrs:{type:"primary"},on:{click:function(t){return e.handleAdd()}}},[e._v("保存")])],1),e._v(" "),a("el-dialog",{attrs:{title:"用户部门",visible:e.dialogDeptVisible},on:{"update:visible":function(t){e.dialogDeptVisible=t}}},[a("el-tree",{ref:"deptTree",staticClass:"filter-tree",attrs:{data:e.treeDeptData,"default-checked-keys":e.checkedKeys,"check-strictly":"","node-key":"id","highlight-current":"",props:e.defaultProps,"default-expand-all":""},on:{"node-click":e.getNodeData}})],1)],1)},l=[],i=(a("a450"),a("3616")),n=a("b405"),s=a("61f7"),o=function(e,t,a){Object(s["e"])(e,t,a)},m={props:["parentToChild"],name:"grainAdd",components:{STitle:n["default"]},filters:{},data:function(){return{listLoading:!1,title:"add",statusOptions:["0","1"],role:[],treeDeptData:[],checkedKeys:[],defaultProps:{children:"children",label:"name"},isDisabled:{0:!1,1:!0},dialogDeptVisible:!1,form:{address:null,id:null,linkman:null,linkmanPhone:null,longitude:null,latitude:null,name:null,remark:null},rules:{name:[{required:!0,message:"请输入粮库名称",trigger:"blur"},{min:1,max:50,message:"长度在 1 到 50 个字符",trigger:"blur"}],address:[{required:!0,message:"请输入粮库地址",trigger:"blur"},{min:3,max:50,message:"长度在 3 到 50 个字符",trigger:"blur"}],latitude:[{required:!0,message:"请输入纬度",trigger:"blur"}],longitude:[{required:!0,message:"请输入经度",trigger:"blur"}],linkman:[{required:!0,message:"请输入粮库联系人",trigger:"blur"},{min:1,max:20,message:"长度在 1 到 20 个字符",trigger:"blur"}],linkmanPhone:[{required:!0,message:"请输入正确的11位手机号码",trigger:"blur",validator:o},{min:11,max:11,message:"长度在11个字符",trigger:"blur"}],remark:[{max:50,message:"长度在50个字符内",trigger:"blur"}]}}},mounted:function(){console.log(this.parentToChild),this.$route.meta.title="新增粮库",this.parentToChild&&(this.title="update",this.$route.meta.title="编辑粮库",this.handleUpdate(this.parentToChild))},methods:{handleAdd:function(){var e=this,t=this;this.$refs.form.validate((function(a){a&&(e.listLoading=!0,"add"==e.title?(console.log(e.form),i["n"](e.form).then((function(a){e.listLoading=!1,"1"==a.data.code?(e.$notify({message:"创建失败,"+a.data.msg,type:"error",duration:"2000"}),t.$emit("msg",!1)):"0"==a.data.code&&(e.$notify({message:"创建成功",type:"success",duration:"2000"}),e.resetTemp(),e.$router.push({path:"/Grainroom/grain"}),t.$emit("msg",!0))}))):(e.form.password=void 0,i["n"](e.form).then((function(a){e.listLoading=!1,"1"==a.data.code?(e.$notify({message:"修改失败,"+a.data.msg,type:"error",duration:"2000"}),t.$emit("msg",!1)):"0"==a.data.code&&(e.$notify({message:"修改成功",type:"success",duration:"2000"}),e.$router.push({path:"/Grainroom/grain"}),t.$emit("msg",!0))}))))}))},resetTemp:function(){this.form={address:null,id:null,linkman:null,linkmanPhone:null,longitude:null,latitude:null,name:null,remark:null},this.role=[]},getNodeData:function(e){this.dialogDeptVisible=!1,this.form.deptId=e.id,this.form.deptName=e.name},handleUpdate:function(e){var t=this;i["m"](e).then((function(e){t.form=e.data}))}}},d=m,u=(a("7861"),a("016c"),a("0b56")),c=Object(u["a"])(d,r,l,!1,null,"eda68fc2",null);t["default"]=c.exports}}]);